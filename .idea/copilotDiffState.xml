<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/tabletussle/SettingsActivity.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/tabletussle/SettingsActivity.java" />
              <option name="originalContent" value="package com.example.tabletussle;&#10;&#10;import android.content.Intent;&#10;import android.content.SharedPreferences;&#10;import android.os.Bundle;&#10;import android.widget.ImageButton;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.appcompat.app.AppCompatDelegate;&#10;&#10;import com.google.android.material.card.MaterialCardView;&#10;import com.google.android.material.switchmaterial.SwitchMaterial;&#10;&#10;public class SettingsActivity extends AppCompatActivity {&#10;&#10;    private SharedPreferences sharedPreferences;&#10;    private static final String PREFS_NAME = &quot;TableTussleSettings&quot;;&#10;&#10;    // Settings keys&#10;    private static final String KEY_SOUND_EFFECTS = &quot;sound_effects&quot;;&#10;    private static final String KEY_BACKGROUND_MUSIC = &quot;background_music&quot;;&#10;    private static final String KEY_VIBRATION = &quot;vibration&quot;;&#10;    private static final String KEY_DARK_MODE = &quot;dark_mode&quot;;&#10;    private static final String KEY_ANIMATIONS = &quot;animations&quot;;&#10;&#10;    // UI Components&#10;    private SwitchMaterial switchSoundEffects;&#10;    private SwitchMaterial switchBackgroundMusic;&#10;    private SwitchMaterial switchVibration;&#10;    private SwitchMaterial switchDarkMode;&#10;    private SwitchMaterial switchAnimations;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_settings);&#10;&#10;        sharedPreferences = getSharedPreferences(PREFS_NAME, MODE_PRIVATE);&#10;&#10;        initializeViews();&#10;        loadSettings();&#10;        setupClickListeners();&#10;    }&#10;&#10;    private void initializeViews() {&#10;        // Back button&#10;        ImageButton btnBack = findViewById(R.id.btnBack);&#10;        btnBack.setOnClickListener(v -&gt; finish());&#10;&#10;        // Switches&#10;        switchSoundEffects = findViewById(R.id.switchSoundEffects);&#10;        switchBackgroundMusic = findViewById(R.id.switchBackgroundMusic);&#10;        switchVibration = findViewById(R.id.switchVibration);&#10;        switchDarkMode = findViewById(R.id.switchDarkMode);&#10;        switchAnimations = findViewById(R.id.switchAnimations);&#10;&#10;        // Set app version&#10;        TextView tvAppVersion = findViewById(R.id.tvAppVersion);&#10;        try {&#10;            String versionName = getPackageManager().getPackageInfo(getPackageName(), 0).versionName;&#10;            tvAppVersion.setText(&quot;Version &quot; + versionName);&#10;        } catch (Exception e) {&#10;            tvAppVersion.setText(&quot;Version 1.0.0&quot;);&#10;        }&#10;    }&#10;&#10;    private void loadSettings() {&#10;        // Load saved preferences&#10;        switchSoundEffects.setChecked(sharedPreferences.getBoolean(KEY_SOUND_EFFECTS, true));&#10;        switchBackgroundMusic.setChecked(sharedPreferences.getBoolean(KEY_BACKGROUND_MUSIC, true));&#10;        switchVibration.setChecked(sharedPreferences.getBoolean(KEY_VIBRATION, true));&#10;        switchDarkMode.setChecked(sharedPreferences.getBoolean(KEY_DARK_MODE, true));&#10;        switchAnimations.setChecked(sharedPreferences.getBoolean(KEY_ANIMATIONS, true));&#10;    }&#10;&#10;    private void setupClickListeners() {&#10;        // Sound Effects&#10;        switchSoundEffects.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;            saveSetting(KEY_SOUND_EFFECTS, isChecked);&#10;            showToast(isChecked ? &quot;Sound effects enabled&quot; : &quot;Sound effects disabled&quot;);&#10;        });&#10;&#10;        // Background Music&#10;        switchBackgroundMusic.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;            saveSetting(KEY_BACKGROUND_MUSIC, isChecked);&#10;            showToast(isChecked ? &quot;Background music enabled&quot; : &quot;Background music disabled&quot;);&#10;        });&#10;&#10;        // Vibration&#10;        switchVibration.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;            saveSetting(KEY_VIBRATION, isChecked);&#10;            showToast(isChecked ? &quot;Vibration enabled&quot; : &quot;Vibration disabled&quot;);&#10;        });&#10;&#10;        // Dark Mode&#10;        switchDarkMode.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;            saveSetting(KEY_DARK_MODE, isChecked);&#10;            applyDarkMode(isChecked);&#10;            showToast(isChecked ? &quot;Dark mode enabled&quot; : &quot;Light mode enabled&quot;);&#10;        });&#10;&#10;        // Animations&#10;        switchAnimations.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;            saveSetting(KEY_ANIMATIONS, isChecked);&#10;            showToast(isChecked ? &quot;Animations enabled&quot; : &quot;Animations disabled&quot;);&#10;        });&#10;&#10;        // Notifications&#10;        MaterialCardView cardNotifications = findViewById(R.id.cardNotifications);&#10;        cardNotifications.setOnClickListener(v -&gt; {&#10;            Intent intent = new Intent(SettingsActivity.this, NotificationsActivity.class);&#10;            startActivity(intent);&#10;        });&#10;&#10;        // Privacy&#10;        MaterialCardView cardPrivacy = findViewById(R.id.cardPrivacy);&#10;        cardPrivacy.setOnClickListener(v -&gt; {&#10;            showToast(&quot;Privacy settings - Coming soon!&quot;);&#10;        });&#10;&#10;        // Help &amp; Support&#10;        MaterialCardView cardHelp = findViewById(R.id.cardHelp);&#10;        cardHelp.setOnClickListener(v -&gt; {&#10;            showToast(&quot;Help &amp; Support - Coming soon!&quot;);&#10;        });&#10;    }&#10;&#10;    private void saveSetting(String key, boolean value) {&#10;        SharedPreferences.Editor editor = sharedPreferences.edit();&#10;        editor.putBoolean(key, value);&#10;        editor.apply();&#10;    }&#10;&#10;    private void applyDarkMode(boolean isDarkMode) {&#10;        if (isDarkMode) {&#10;            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);&#10;        } else {&#10;            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);&#10;        }&#10;    }&#10;&#10;    private void showToast(String message) {&#10;        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();&#10;    }&#10;&#10;    // Public method to get settings&#10;    public static boolean getSoundEffectsSetting(android.content.Context context) {&#10;        SharedPreferences prefs = context.getSharedPreferences(PREFS_NAME, MODE_PRIVATE);&#10;        return prefs.getBoolean(KEY_SOUND_EFFECTS, true);&#10;    }&#10;&#10;    public static boolean getBackgroundMusicSetting(android.content.Context context) {&#10;        SharedPreferences prefs = context.getSharedPreferences(PREFS_NAME, MODE_PRIVATE);&#10;        return prefs.getBoolean(KEY_BACKGROUND_MUSIC, true);&#10;    }&#10;&#10;    public static boolean getVibrationSetting(android.content.Context context) {&#10;        SharedPreferences prefs = context.getSharedPreferences(PREFS_NAME, MODE_PRIVATE);&#10;        return prefs.getBoolean(KEY_VIBRATION, true);&#10;    }&#10;&#10;    public static boolean getAnimationsSetting(android.content.Context context) {&#10;        SharedPreferences prefs = context.getSharedPreferences(PREFS_NAME, MODE_PRIVATE);&#10;        return prefs.getBoolean(KEY_ANIMATIONS, true);&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.tabletussle;&#10;&#10;import android.content.Intent;&#10;import android.content.SharedPreferences;&#10;import android.os.Bundle;&#10;import android.widget.ImageButton;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.appcompat.app.AppCompatDelegate;&#10;&#10;import com.google.android.material.card.MaterialCardView;&#10;import com.google.android.material.switchmaterial.SwitchMaterial;&#10;&#10;public class SettingsActivity extends AppCompatActivity {&#10;&#10;    private SharedPreferences sharedPreferences;&#10;    private static final String PREFS_NAME = &quot;TableTussleSettings&quot;;&#10;&#10;    // Settings keys&#10;    private static final String KEY_SOUND_EFFECTS = &quot;sound_effects&quot;;&#10;    private static final String KEY_BACKGROUND_MUSIC = &quot;background_music&quot;;&#10;    private static final String KEY_VIBRATION = &quot;vibration&quot;;&#10;    private static final String KEY_DARK_MODE = &quot;dark_mode&quot;;&#10;    private static final String KEY_ANIMATIONS = &quot;animations&quot;;&#10;&#10;    // UI Components&#10;    private SwitchMaterial switchSoundEffects;&#10;    private SwitchMaterial switchBackgroundMusic;&#10;    private SwitchMaterial switchVibration;&#10;    private SwitchMaterial switchDarkMode;&#10;    private SwitchMaterial switchAnimations;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_settings);&#10;&#10;        sharedPreferences = getSharedPreferences(PREFS_NAME, MODE_PRIVATE);&#10;&#10;        initializeViews();&#10;        loadSettings();&#10;        setupClickListeners();&#10;    }&#10;&#10;    private void initializeViews() {&#10;        // Back button&#10;        ImageButton btnBack = findViewById(R.id.btnBack);&#10;        btnBack.setOnClickListener(v -&gt; finish());&#10;&#10;        // Switches&#10;        switchSoundEffects = findViewById(R.id.switchSoundEffects);&#10;        switchBackgroundMusic = findViewById(R.id.switchBackgroundMusic);&#10;        switchVibration = findViewById(R.id.switchVibration);&#10;        switchDarkMode = findViewById(R.id.switchDarkMode);&#10;        switchAnimations = findViewById(R.id.switchAnimations);&#10;&#10;        // Set app version&#10;        TextView tvAppVersion = findViewById(R.id.tvAppVersion);&#10;        try {&#10;            String versionName = getPackageManager().getPackageInfo(getPackageName(), 0).versionName;&#10;            tvAppVersion.setText(&quot;Version &quot; + versionName);&#10;        } catch (Exception e) {&#10;            tvAppVersion.setText(&quot;Version 1.0.0&quot;);&#10;        }&#10;    }&#10;&#10;    private void loadSettings() {&#10;        // Load saved preferences&#10;        switchSoundEffects.setChecked(sharedPreferences.getBoolean(KEY_SOUND_EFFECTS, true));&#10;        switchBackgroundMusic.setChecked(sharedPreferences.getBoolean(KEY_BACKGROUND_MUSIC, true));&#10;        switchVibration.setChecked(sharedPreferences.getBoolean(KEY_VIBRATION, true));&#10;        switchDarkMode.setChecked(sharedPreferences.getBoolean(KEY_DARK_MODE, true));&#10;        switchAnimations.setChecked(sharedPreferences.getBoolean(KEY_ANIMATIONS, true));&#10;    }&#10;&#10;    private void setupClickListeners() {&#10;        // Sound Effects&#10;        switchSoundEffects.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;            saveSetting(KEY_SOUND_EFFECTS, isChecked);&#10;            showToast(isChecked ? &quot;Sound effects enabled&quot; : &quot;Sound effects disabled&quot;);&#10;        });&#10;&#10;        // Background Music&#10;        switchBackgroundMusic.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;            saveSetting(KEY_BACKGROUND_MUSIC, isChecked);&#10;            showToast(isChecked ? &quot;Background music enabled&quot; : &quot;Background music disabled&quot;);&#10;        });&#10;&#10;        // Vibration&#10;        switchVibration.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;            saveSetting(KEY_VIBRATION, isChecked);&#10;            showToast(isChecked ? &quot;Vibration enabled&quot; : &quot;Vibration disabled&quot;);&#10;        });&#10;&#10;        // Dark Mode&#10;        switchDarkMode.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;            saveSetting(KEY_DARK_MODE, isChecked);&#10;            applyDarkMode(isChecked);&#10;            showToast(isChecked ? &quot;Dark mode enabled&quot; : &quot;Light mode enabled&quot;);&#10;        });&#10;&#10;        // Animations&#10;        switchAnimations.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;            saveSetting(KEY_ANIMATIONS, isChecked);&#10;            showToast(isChecked ? &quot;Animations enabled&quot; : &quot;Animations disabled&quot;);&#10;        });&#10;&#10;        // Notifications&#10;        MaterialCardView cardNotifications = findViewById(R.id.cardNotifications);&#10;        cardNotifications.setOnClickListener(v -&gt; {&#10;            Intent intent = new Intent(SettingsActivity.this, NotificationsActivity.class);&#10;            startActivity(intent);&#10;        });&#10;&#10;        // Privacy&#10;        MaterialCardView cardPrivacy = findViewById(R.id.cardPrivacy);&#10;        cardPrivacy.setOnClickListener(v -&gt; {&#10;            Intent intent = new Intent(SettingsActivity.this, PrivacyActivity.class);&#10;            startActivity(intent);&#10;        });&#10;&#10;        // Help &amp; Support&#10;        MaterialCardView cardHelp = findViewById(R.id.cardHelp);&#10;        cardHelp.setOnClickListener(v -&gt; {&#10;            Intent intent = new Intent(SettingsActivity.this, HelpActivity.class);&#10;            startActivity(intent);&#10;        });&#10;    }&#10;&#10;    private void saveSetting(String key, boolean value) {&#10;        SharedPreferences.Editor editor = sharedPreferences.edit();&#10;        editor.putBoolean(key, value);&#10;        editor.apply();&#10;    }&#10;&#10;    private void applyDarkMode(boolean isDarkMode) {&#10;        if (isDarkMode) {&#10;            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);&#10;        } else {&#10;            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);&#10;        }&#10;    }&#10;&#10;    private void showToast(String message) {&#10;        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();&#10;    }&#10;&#10;    // Public method to get settings&#10;    public static boolean getSoundEffectsSetting(android.content.Context context) {&#10;        SharedPreferences prefs = context.getSharedPreferences(PREFS_NAME, MODE_PRIVATE);&#10;        return prefs.getBoolean(KEY_SOUND_EFFECTS, true);&#10;    }&#10;&#10;    public static boolean getBackgroundMusicSetting(android.content.Context context) {&#10;        SharedPreferences prefs = context.getSharedPreferences(PREFS_NAME, MODE_PRIVATE);&#10;        return prefs.getBoolean(KEY_BACKGROUND_MUSIC, true);&#10;    }&#10;&#10;    public static boolean getVibrationSetting(android.content.Context context) {&#10;        SharedPreferences prefs = context.getSharedPreferences(PREFS_NAME, MODE_PRIVATE);&#10;        return prefs.getBoolean(KEY_VIBRATION, true);&#10;    }&#10;&#10;    public static boolean getAnimationsSetting(android.content.Context context) {&#10;        SharedPreferences prefs = context.getSharedPreferences(PREFS_NAME, MODE_PRIVATE);&#10;        return prefs.getBoolean(KEY_ANIMATIONS, true);&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>